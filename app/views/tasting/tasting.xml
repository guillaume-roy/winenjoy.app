<Page xmlns="http://schemas.nativescript.org/tns.xsd"
        xmlns:gcp="components/gradient-color-picker"
        xmlns:fr="components/final-rating"
        xmlns:vs="components/values-selector"
		loaded="loaded">
  <Page.actionBar>
	<ActionBar title="Nouvelle dégustation">
	  <NavigationButton icon="res://ic_close_white_24dp" tap="cancel"/>
	  <ActionBar.actionItems>
		<ActionItem icon="res://ic_check_white_24dp" ios.position="right" android.position="actionBar" tap="onSaveTasting"/>
	  </ActionBar.actionItems>
	</ActionBar>
  </Page.actionBar>
  <TabView selectedColor="#FFFFFF">
   <TabView.items>
	 <TabViewItem title="Vin">
	   <TabViewItem.view>
		<ScrollView>
			<GridLayout columns="auto,*" rows="*,*,*,*,*,*,*,*,*,*,*" class="tab-view-content">
                <SegmentedBar colspan="2" selectedIndex="{{ wineTypeSelectedIndex }}">
                    <SegmentedBar.items>
                        <SegmentedBarItem title="Blanc" />
                        <SegmentedBarItem title="Rosé" />
                        <SegmentedBarItem title="Rouge" />
                    </SegmentedBar.items>
                </SegmentedBar>
				<TextField text="{{ wineTasting.estate }}" hint="Domaine" row="1" colspan="2" />
				<TextField text="{{ wineTasting.cuvee }}" hint="Cuvée" row="2" colspan="2" />
				<TextField text="{{ wineTasting.country }}" hint="Pays" row="3" colspan="2"/>
				<TextField text="{{ wineTasting.region }}" hint="Région" row="4" colspan="2" />
                <Label text="{{ wineYear ? wineYear : 'Année' }}" row="5" style="color:#727272;font-size: 18;vertical-align: center;margin-left:6"/>
				<Slider value="{{ wineYear }}" minValue="1900" maxValue="2016" row="5" col="1" style="margin-top: 8;margin-bottom:8" />
				<Label text="{{ alcoholFromattedValue ? alcoholFromattedValue + '%' : '% Alcool' }}" row="6" style="color:#727272;font-size: 18;vertical-align: center;margin-left:6" />
				<Slider id="alcohol-slider" value="{{ alcoholValue }}" minValue="30" maxValue="180" row="6" col="1" style="margin-top: 8;margin-bottom:8" />
				<Label text="Biologique" row="7" colspan="2" style="font-size: 18;padding-top: 8;padding-bottom:8;color:#727272;padding-left: 8"/>
				<Switch checked="{{ wineTasting.isBiologic }}" row="7" col="1" />
				<Label text="Biodynamique" row="8" colspan="2" style="font-size: 18;padding-top: 8;padding-bottom:8;color:#727272;padding-left: 8" />
				<Switch checked="{{ wineTasting.isBiodynamic }}" row="8" col="1" />
				<TextView hint="Cépages" row="9" colspan="2" text="{{ wineTasting.grapes }}" />
				<TextView text="{{ wineTasting.wineTabNotes }}" hint="Commentaires" row="10" colspan="2" />
			</GridLayout>
		  </ScrollView>
	   </TabViewItem.view>
	 </TabViewItem>
	 <TabViewItem title="Aspect">
	   <TabViewItem.view>
		  <ScrollView>
            <GridLayout class="tab-view-content" rows="*,*,*,*,*,*,*,auto,*,auto,auto" columns="*, auto">
                <Button text="Sélectionner la robe" tap="onSelectColor" visibility="{{ wineTasting.color ? 'collapsed' : 'visible' }}" colspan="2" />
                <Button tap="onSelectColor" backgroundColor="{{wineTasting.color}}" visibility="{{ wineTasting.color ? 'visible' : 'collapsed' }}" colspan="2" height="96" />
				<Label text="Limpidité" style="font-size: 18;padding-top: 8;padding-bottom:8;color:#727272;padding-left:6" row="1" colspan="2" />
				<vs:ValuesSelector items="{{ limpidityCriterias }}" style="padding-bottom:8" row="2" colspan="2" />
				<Label text="Brillance" style="font-size: 18;padding-top: 8;padding-bottom:8;color:#727272;padding-left: 8" row="3" colspan="2" />
				<vs:ValuesSelector items="{{ shineCriterias }}" row="4" colspan="2" />
                <Label text="Larmes" style="padding-top: 8;padding-bottom:8;padding-left: 8;font-size: 18;color:#727272" row="5" colspan="2" />
				<vs:ValuesSelector items="{{ tearCriterias }}" row="6" colspan="2" />
                <Label text="Bulles" style="padding-top: 8;padding-bottom:8;padding-left: 8;font-size: 18;color:#727272" row="7" />
                <Switch style="horizontal-align: right" checked="{{ hasBubbles }}" row="7" col="1" />
				<vs:ValuesSelector items="{{ bubbleCriterias }}" visibility="{{ hasBubbles ? 'visible' : 'collapsed' }}" row="8" colspan="2" />
				<TextView text="{{ wineTasting.sightTabNotes }}" hint="Commentaires" row="9" colspan="2" />
			</GridLayout>
		  </ScrollView>
	   </TabViewItem.view>
	 </TabViewItem>
	 <TabViewItem title="Arômes">
	   <TabViewItem.view>
		<ScrollView>
			<GridLayout class="tab-view-content" rows="*,*,*,*,*,*,*">
				<Button text="Sélectionner les arômes" tap="onAddAromas" />
				<vs:ValuesSelector items="{{ wineTasting.aromas }}" deleteOnClick="true" row="1" />
				<Label text="Intensité" row="2" style="font-size: 18;padding-top: 8;padding-bottom:8;color:#727272;padding-left: 8" />
				<vs:ValuesSelector items="{{ intensityCriterias }}" row="3" />
				<TextView text="{{ wineTasting.smellTabNotes }}" hint="Commentaires" row="4" />
			</GridLayout>
		  </ScrollView>
	   </TabViewItem.view>
	 </TabViewItem>
	 <TabViewItem title="Saveurs">
	   <TabViewItem.view>
		  <Label text="Saveurs" />
	   </TabViewItem.view>
	 </TabViewItem>
	 <TabViewItem title="Synthèse">
	   <TabViewItem.view>
		   <ScrollView>
			<GridLayout class="tab-view-content" columns="100,*" rows="*,*,*">
				<Label text="Note globale" />
				<fr:FinalRating selectedValue="{{ wineTasting.finalRating }}" col="1" />
				<Label text="Date" row="2" />
				<Label text="{{ wineTasting.startDate | dateConverter}}" row="2" col="1" />
				<TextView text="{{ wineTasting.synthesisTabNotes }}" hint="Commentaires" row="3" colspan="2" />
			</GridLayout>
		   </ScrollView>
	   </TabViewItem.view>
	 </TabViewItem>
   </TabView.items>
 </TabView>
</Page>

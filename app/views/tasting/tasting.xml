<Page xmlns="http://schemas.nativescript.org/tns.xsd"
		xmlns:dd="nativescript-drop-down"
        xmlns:gcp="components/gradient-color-picker"
        xmlns:fr="components/final-rating"
        xmlns:vs="components/values-selector"
		loaded="loaded">
  <Page.actionBar>
	<ActionBar title="Nouvelle dégustation">
	  <NavigationButton icon="res://ic_close_white_24dp" tap="cancel"/>
	  <ActionBar.actionItems>
		<ActionItem icon="res://ic_check_white_24dp" ios.position="right" android.position="actionBar" tap="onSaveTasting"/>
	  </ActionBar.actionItems>
	</ActionBar>
  </Page.actionBar>
  <TabView selectedColor="#FFFFFF">
   <TabView.items>
	 <TabViewItem title="Vin">
	   <TabViewItem.view>
		<ScrollView>
			<GridLayout columns="100,*,100,*" rows="*,*,*,*,*,*,*,*,*,*,*" class="tab-view-content">
				<TextField text="{{ wineTasting.estate }}" hint="Domaine" colspan="4" />
				<TextField text="{{ wineTasting.cuvee }}" hint="Cuvée" row="1" colspan="4" />
				<TextField text="{{ wineTasting.country }}" hint="Pays" row="2" colspan="4"/>
				<TextField text="{{ wineTasting.region }}" hint="Région" row="3" colspan="4" />
				<TextField text="{{ wineTasting.aoc }}" hint="AOC" row="4" colspan="4" />
				<Label text="Année" row="5" />
				<dd:DropDown items="{{ years }}" selectedIndex="{{ yearSelectedIndex }}" row="5" col="1" />
				<Label text="Couleur" row="5" col="2" />
				<dd:DropDown items="{{ wineTypes | labelConverter }}" selectedIndex="{{ wineTypeSelectedIndex }}" row="5" col="3" />
				<Label text="{{ alcoholFromattedValue + ' % Alcool' }}" row="6" />
				<Slider id="alcohol-slider" value="{{ alcoholValue }}" minValue="30" maxValue="180" row="6" col="1" colspan="3" />
				<Label text="Biologique" row="7"/>
				<Switch checked="{{ wineTasting.isBiologic }}" row="7" col="3" />
				<Label text="Biodynamique" row="8" />
				<Switch checked="{{ wineTasting.isBiodynamic }}" row="8" col="3" />
				<Label text="Cépages" row="9" />
				<TextView hint="Ajouter un cépage" row="9" col="1" colspan="3" />
				<TextView text="{{ wineTasting.wineTabNotes }}" hint="Commentaires" row="10" colspan="4" />
			</GridLayout>
		  </ScrollView>
	   </TabViewItem.view>
	 </TabViewItem>
	 <TabViewItem title="Aspect">
	   <TabViewItem.view>
		  <ScrollView>
            <GridLayout class="tab-view-content" rows="*,*,*,*,*,*,*,auto,*,auto,auto" columns="*, auto">
				<Label text="Limpidité" style="font-size: 16;padding-top: 8;padding-bottom:8;color:#727272;padding-left: 8" colspan="2" />
				<vs:ValuesSelector items="{{ limpidityCriterias }}" style="padding-bottom:8" row="1" colspan="2" />
				<Label text="Brillance" style="font-size: 16;padding-top: 8;padding-bottom:8;color:#727272;padding-left: 8" row="2" colspan="2" />
				<vs:ValuesSelector items="{{ shineCriterias }}" row="3" colspan="2" />
				<!--<Label text="Robe"  style="font-size: 16;padding-top: 8;padding-bottom:8;color:#727272;padding-left: 8" row="4" colspan="2" />-->
				<Button text="Définir la robe" tap="onSelectColor" visibility="{{ wineTasting.color ? 'collapsed' : 'visible' }}" row="5" colspan="2" />
				<Button tap="onSelectColor" backgroundColor="{{wineTasting.color}}" visibility="{{ wineTasting.color ? 'visible' : 'collapsed' }}" row="5" colspan="2" />
                <Label text="Larmes" style="padding-top: 8;padding-bottom:8;padding-left: 8;font-size: 16;color:#727272" row="6" />
                <Switch style="horizontal-align: right" checked="{{ hasTears }}" row="6" col="1" />
				<vs:ValuesSelector items="{{ tearCriterias }}" visibility="{{ hasTears ? 'visible' : 'collapsed' }}" row="7" colspan="2" />
                <Label text="Bulles" style="padding-top: 8;padding-bottom:8;padding-left: 8;font-size: 16;color:#727272" row="8" />
                <Switch style="horizontal-align: right" checked="{{ hasBubbles }}" row="8" col="1" />
				<vs:ValuesSelector items="{{ bubbleCriterias }}" visibility="{{ hasBubbles ? 'visible' : 'collapsed' }}" row="9" colspan="2" />
				<TextView text="{{ wineTasting.sightTabNotes }}" hint="Commentaires" row="10" colspan="2" />
			</GridLayout>
		  </ScrollView>
	   </TabViewItem.view>
	 </TabViewItem>
	 <TabViewItem title="Arômes">
	   <TabViewItem.view>
		<ScrollView>
			<GridLayout class="tab-view-content" columns="100,*" rows="*,*,*,*,*,*,*">
				<Button text="Ajouter" tap="onAddAromas" colspan="2" />
				<vs:ValuesSelector items="{{ wineTasting.aromas }}" deleteOnClick="true" row="2" colspan="2" />
				<TextField hint="Autres" col="1" row="3" />
				<Label text="Intensité" row="4" />
				<vs:ValuesSelector items="{{ smellIntensityCriterias }}" singleSelection="true" col="1" row="4" />
				<TextField hint="Autres" col="1" row="5" />
				<TextView text="{{ wineTasting.smellTabNotes }}" hint="Commentaires" row="6" colspan="2" />
			</GridLayout>
		  </ScrollView>
	   </TabViewItem.view>
	 </TabViewItem>
	 <TabViewItem title="Saveurs">
	   <TabViewItem.view>
		  <Label text="Saveurs" />
	   </TabViewItem.view>
	 </TabViewItem>
	 <TabViewItem title="Synthèse">
	   <TabViewItem.view>
		   <ScrollView>
			<GridLayout class="tab-view-content" columns="100,*" rows="*,*,*">
				<Label text="Note globale" />
				<fr:FinalRating selectedValue="{{ wineTasting.finalRating }}" col="1" />
				<Label text="Date" row="2" />
				<Label text="{{ wineTasting.startDate | dateConverter}}" row="2" col="1" />
				<TextView text="{{ wineTasting.synthesisTabNotes }}" hint="Commentaires" row="3" colspan="2" />
			</GridLayout>
		   </ScrollView>
	   </TabViewItem.view>
	 </TabViewItem>
   </TabView.items>
 </TabView>
</Page>

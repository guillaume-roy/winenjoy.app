<Page xmlns="http://schemas.nativescript.org/tns.xsd"
      xmlns:FAB="nativescript-floatingactionbutton"
      navigatedTo="navigatedTo">
    <Page.actionBar>
        <ActionBar title="Winenjoy - v0.1 beta" />
    </Page.actionBar>
  <GridLayout>
    <ListView items="{{ tastings }}" visibility="{{ tastings && tastings.length !== 0 && !betaIsClosed ? 'visible' : 'collapse' }}" itemTap="onViewTasting">
        <ListView.itemTemplate>
            <GridLayout class="list-item" rows="*,*,*" columns="56, *, auto">
                <StackLayout backgroundColor="{{ color }}" class="list-item-icon" rowSpan="3" id="toto" />
                <Label text="{{ cuvee }}" class="list-item-title" col="1" />
                <Label text="{{ estate }}" class="list-item-secondary" row="1" col="1" />
                <Label text="{{ $value | wineLocationConverter }}" class="list-item-secondary" row="2" col="1" />
                <Label text="{{ year }}" class="list-item-secondary" col="2" />
                <Image src="{{ finalRating | finalRatingToImageConverter }}" col="2" row="1" rowspan="2" height="24" width="24" />
            </GridLayout>
        </ListView.itemTemplate>
    </ListView>
    <FAB:fab visibility="{{ tastings.length !== 10 || !betaIsClosed ? 'visible' : 'collapse' }}"
        tap="onCreateNewTasting"
        icon="res://ic_add_white_24dp"
        rippleColor="#f1f1f1"
        class="fab-button" />
    <Label text="Aucune dégustation ... pour l'instant." style="vertical-align: center;horizontal-align:center" visibility="{{ !tastings || tastings.length === 0  ? 'visible' : 'collapse'}}"/>
    <Label text="Cette version beta est terminée. Merci." style="vertical-align: center;horizontal-align:center" visibility="{{ betaIsClosed ? 'visible' : 'collapse' }}"/>
  </GridLayout>
</Page>

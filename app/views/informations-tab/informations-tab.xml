<Page xmlns="http://schemas.nativescript.org/tns.xsd"
    xmlns:fr="components/final-rating"
    xmlns:bn="components/bottom-navigation"
    xmlns:vs="components/values-selector"
    xmlns:FAB="nativescript-floatingactionbutton"
    loaded="loaded"
    navigatedTo="navigatedTo"
    navigatedFrom="navigatedFrom"
    actionBarHidden="true">
    <GridLayout rows="*, auto">
        <ScrollView id="scrollView">
			<GridLayout columns="auto,*" rows="*,*,*,*,*,*,*,*,*,*,*,*,auto,*">
                <fr:FinalRating selectedValue="{{ wineTasting.finalRating }}" style="margin-top: 8;horizontal-align: center;" colspan="2" />
                <TextField text="{{ wineTasting.cuvee }}" hint="Cuvée" row="2" colspan="2" />
                <TextField text="{{ wineTasting.estate }}" hint="Domaine" row="3" colspan="2" />
                <!--<TextField text="{{ wineTasting.region }}" hint="Région" row="4" colspan="2" />-->
                <Label text="Pays" row="5" class="criterias-title" />
                <Button text="Sélectionner" tap="onSelectCountry" row="5" col="1" class="white-button" visibility="{{ wineTasting.country ? 'collapse' : 'visible' }}" />
                <Button text="{{ (wineTasting.country ||{}).label }}" tap="onDeleteCountry" row="5" col="1" class="white-button" visibility="{{ wineTasting.country ? 'visible' : 'collapse' }}" />
                <Label text="Région" row="6" class="criterias-title" />
                <Button text="Sélectionner" tap="onSelectRegion" row="6" col="1" class="white-button" visibility="{{ wineTasting.region ? 'collapse' : 'visible' }}" />
                <Button text="{{ (wineTasting.region ||{}).label }}" tap="onDeleteRegion" row="6" col="1" class="white-button" visibility="{{ wineTasting.region ? 'visible' : 'collapse' }}" />
                <Label text="AOC" row="7" class="criterias-title" />
                <Button text="Sélectionner" tap="onSelectAoc" row="7" col="1" class="white-button" visibility="{{ wineTasting.aoc ? 'collapse' : 'visible' }}" />
                <Button text="{{ (wineTasting.region ||{}).label }}" tap="onDeleteAoc" row="7" col="1" class="white-button" visibility="{{ wineTasting.aoc ? 'visible' : 'collapse' }}" />
                <!--<Label text="Année" row="6" class="criterias-title" />
                <Button text="Sélectionner" tap="onSelectYear" row="6" col="1" class="white-button" visibility="{{ wineTasting.year ? 'collapse' : 'visible' }}" />
                <Button text="{{ wineTasting.year }}" tap="onDeleteYear" row="6" col="1" class="white-button" visibility="{{ wineTasting.year ? 'visible' : 'collapse' }}" />-->
				<!--<Label text="{{ alcoholFormattedValue ? alcoholFormattedValue + '%' : '% Alcool' }}" row="7" class="criterias-title-no-margin" width="70" />
				<Slider id="alcohol-slider" value="{{ alcoholValue }}" minValue="30" maxValue="180" row="7" col="1" class="criterias-margin" />-->
				<Label text="Biologique" row="8" colspan="2" class="criterias-title" />
				<Switch checked="{{ wineTasting.isBiologic }}" row="8" col="1" />
				<Label text="Biodynamique" row="9" colspan="2" class="criterias-title" />
                <Switch checked="{{ wineTasting.isBiodynamic }}" row="9" col="1" />
                <Label text="Dégustation à l'aveugle" row="10" colspan="2" class="criterias-title" />
                <Switch checked="{{ wineTasting.isBlindTasting }}" row="10" col="1" />
                <Label text="Cépages" row="11" class="criterias-title" />
                <Button text="Sélectionner" tap="onSelectGrapes" row="11" col="1" class="white-button" />
                <vs:ValuesSelector items="{{ wineTasting.grapes }}" deleteOnClick="true" row="12" colspan="2" />
				<TextView text="{{ wineTasting.synthesisTabNotes }}" hint="Commentaires" row="13" colspan="2" />
			</GridLayout>
        </ScrollView>
        <FAB:fab id="fab"
            icon="res://ic_check_white_24dp"
            rippleColor="#f1f1f1"
            class="fab-button"
            tap="saveTasting" />
        <FAB:fab id="fab-delete"
            icon="res://ic_close_white_24dp"
            rippleColor="#f1f1f1"
            visibility="{{ isEditMode ? 'visible' : 'collapse' }}"
            class="fab-button-delete"
            tap="deleteTasting" />
        <bn:BottomNavigation row="1" selectedItem="INFORMATIONS" />
    </GridLayout>
  </Page>
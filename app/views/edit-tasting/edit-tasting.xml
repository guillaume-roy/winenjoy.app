<Page xmlns="http://schemas.nativescript.org/tns.xsd"
        xmlns:gcp="components/gradient-color-picker"
        xmlns:fr="components/final-rating"
        xmlns:vs="components/values-selector"
		navigatedTo="navigatedTo">
  <TabView selectedColor="#FFFFFF" selectedIndex="{{ tabSelectedIndex }}">
   <TabView.items>
	 <TabViewItem title="Vin">
	   <TabViewItem.view>
        <GridLayout rows="*, auto">
		<ScrollView>
			<GridLayout columns="auto,*" rows="*,*,*,*,*,*,*,*,*,*,auto,*" class="tab-view-content">
                <SegmentedBar colspan="2" selectedIndex="{{ wineTypeSelectedIndex }}">
                    <SegmentedBar.items>
                        <SegmentedBarItem title="Blanc" />
                        <SegmentedBarItem title="Rosé" />
                        <SegmentedBarItem title="Rouge" />
                    </SegmentedBar.items>
                </SegmentedBar>
				<TextField text="{{ wineTasting.cuvee }}" hint="Cuvée" row="1" colspan="2" id="cuvee-field" />
                <TextField text="{{ wineTasting.estate }}" hint="Domaine" row="2" colspan="2" />
                <TextField text="{{ wineTasting.region }}" hint="Région" row="3" colspan="2" />
                <Label text="Pays" row="4" class="criterias-title" />
                <Button text="Sélectionner" tap="onSelectCountry" row="4" col="1" class="white-button" visibility="{{ wineTasting.country ? 'collapse' : 'visible' }}" />
                <Button text="{{ (wineTasting.country ||{}).label }}" tap="onDeleteCountry" row="4" col="1" class="white-button" visibility="{{ wineTasting.country ? 'visible' : 'collapse' }}" />
                <Label text="Année" row="5" class="criterias-title" />
                <Button text="Sélectionner" tap="onSelectYear" row="5" col="1" class="white-button" visibility="{{ wineTasting.year ? 'collapse' : 'visible' }}" />
                <Button text="{{ wineTasting.year }}" tap="onDeleteYear" row="5" col="1" class="white-button" visibility="{{ wineTasting.year ? 'visible' : 'collapse' }}" />
				<Label text="{{ alcoholFromattedValue ? alcoholFromattedValue + '%' : '% Alcool' }}" row="6" class="criterias-title-no-margin" width="70" />
				<Slider id="alcohol-slider" value="{{ alcoholValue }}" minValue="30" maxValue="180" row="6" col="1" class="criterias-margin" />
				<Label text="Biologique" row="7" colspan="2" class="criterias-title" />
				<Switch checked="{{ wineTasting.isBiologic }}" row="7" col="1" />
				<Label text="Biodynamique" row="8" colspan="2" class="criterias-title" />
                <Switch checked="{{ wineTasting.isBiodynamic }}" row="8" col="1" />
                <Label text="Cépages" row="9" class="criterias-title" />
                <Button text="Sélectionner" tap="onSelectGrapes" row="9" col="1" class="white-button" />
                <vs:ValuesSelector items="{{ wineTasting.grapes }}" deleteOnClick="true" row="10" colspan="2" />
				<TextView text="{{ wineTasting.wineTabNotes }}" hint="Commentaires" row="11" colspan="2" />
			</GridLayout>
		  </ScrollView>
            <GridLayout columns="*, *, *, *" row="1" height="56" style="background-color: #795548; color: #FFFFFF;">
                <Label text="&#xe90a;" class="winenjoy-icon" style="horizontal-align: center; font-size:42;vertical-align:center" />
                <Label text="Aspect" style="horizontal-align:center;vertical-align:bottom;margin-bottom:4" />
                <Label text="&#xe90b;" class="winenjoy-icon" style="horizontal-align: center; font-size:42vertical-align:center" col="1" />
                <Label text="Arômes" style="horizontal-align:center;vertical-align:bottom;margin-bottom:4" col="1" />
                <Label text="&#xe90c;" class="winenjoy-icon" style="horizontal-align: center; font-size:42;vertical-align:center" col="2" />
                <Label text="Saveurs" style="horizontal-align:center;vertical-align:bottom;margin-bottom:4" col="2" />
                <Label text="&#xe909;" class="winenjoy-icon" style="horizontal-align: center; font-size:36;vertical-align:center" col="3" />
                <Label text="Vin" style="horizontal-align:center;vertical-align:bottom;margin-bottom:4" col="3" />
            </GridLayout>
          </GridLayout>
	   </TabViewItem.view>
	 </TabViewItem>
	 <TabViewItem title="Synthèse">
	   <TabViewItem.view>
		   <ScrollView>
			<GridLayout class="tab-view-content" columns="auto,*" rows="*,*,*,*">
				<fr:FinalRating selectedValue="{{ wineTasting.finalRating }}" style="margin-top: 8;horizontal-align: center;" colspan="2" />
                <Label text="Date" row="1" class="criterias-title" />
				<Label text="{{ wineTasting.startDate | dateConverter}}" class="criterias-label" row="1" col="1" />
                <TextView text="{{ wineTasting.meatsNotes }}" hint="Accord mets & vin" row="2" colspan="2" />
				<TextView text="{{ wineTasting.synthesisTabNotes }}" hint="Commentaires" row="3" colspan="2" />
			</GridLayout>
		   </ScrollView>
	   </TabViewItem.view>
	 </TabViewItem>
   </TabView.items>
 </TabView>
</Page>

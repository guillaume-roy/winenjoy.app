<Page xmlns="http://schemas.nativescript.org/tns.xsd"
      xmlns:card="nativescript-cardview"
      xmlns:vs="components/values-selector"
      xmlns:gcp="components/gradient-color-picker"
      xmlns:dd="nativescript-drop-down"
      xmlns:ac="nativescript-autocomplete"
      navigatedTo="navigatedTo"
      loaded="loaded">
  <Page.actionBar>
    <ActionBar>
      <ActionBar.actionItems>
        <ActionItem ios.position="right"
                    icon="res://ic_photo_camera_white_24dp"
                    tap="managePicture"
                    visibility="{{ picture ? 'collapse' : 'visible' }}"/>
        <ActionItem ios.position="right"
                    icon="res://ic_photo_white_24dp"
                    tap="managePicture"
                    visibility="{{ picture ? 'visible' : 'collapse' }}"/>
        <ActionItem ios.position="right"
                    icon="res://ic_check_white_24dp"
                    tap="saveTasting"/>
      </ActionBar.actionItems>
    </ActionBar>
  </Page.actionBar>
  <ScrollView id="scrollView">
    <StackLayout>
      <card:CardView elevation="10">
        <GridLayout columns="auto, *"
                    rows="*,*,*,*,*,*,*,*,*,*,*,*">
          <Label text="Aspect"
                 class="form-section"
                 colSpan="2"
                 style="margin-bottom:0"/>
          <SegmentedBar row="1"
                        colSpan="2">
            <SegmentedBar.items>
              <SegmentedBarItem title="Vin Blanc" />
              <SegmentedBarItem title="Vin Rosé" />
              <SegmentedBarItem title="Vin Rouge" />
            </SegmentedBar.items>
          </SegmentedBar>
          <Label text="&#xE3A5;"
                 class="material-icon form-icon"
                 row="2"/>
          <Label text="Limpidité"
                 class="form-label"
                 col="1"
                 row="2"/>
          <vs:ValuesSelector items="{{ limpidities }}"
                             row="3"
                             col="1" />
          <Label text="&#xE1AD;"
                 class="material-icon form-icon"
                 row="4" />
          <Label text="Brillance"
                 class="form-label"
                 row="4"
                 col="1" />
          <vs:ValuesSelector items="{{ shines }}"
                             row="5"
                             col="1" />
          <Label text="&#xE40A;"
                 class="material-icon form-icon"
                 row="6" />
          <Label text="Couleur"
                 class="form-label"
                 row="6"
                 col="1" />
          <ScrollView class="gradient-color-scroll-view"
                      orientation="horizontal"
                      row="7"
                      col="1">
            <gcp:GradientColorPicker startingColor="#FDF3C2"
                                     endingColor="#F0C636"
                                     colorsCount="5"/>
          </ScrollView>
          <!--<ScrollView orientation="horizontal">
        <gcp:GradientColorPicker startingColor="#F7C7B1"
                                 endingColor="#BF3E2B"
                                 colorsCount="5"/>
      </ScrollView>
      <ScrollView orientation="horizontal">
        <gcp:GradientColorPicker startingColor="#C23311"
                                 endingColor="#3B022D"
                                 colorsCount="5"/>
      </ScrollView>-->
          <Label text="&#xE891;"
                 class="material-icon form-icon"
                 row="8" />
          <Label text="Larmes"
                 class="form-label"
                 row="8"
                 col="1" />
          <vs:ValuesSelector items="{{ tears }}"
                             row="9"
                             col="1" />
          <Label text="&#xE3E9;"
                 class="material-icon form-icon"
                 row="10" />
          <GridLayout columns="*, 100"
                      class="form-single-line"
                      row="10"
                      col="1">
            <Label text="Présence de dépôt"
                   class="form-label" />
            <Switch col="1" />
          </GridLayout>
          <Label text="&#xE6DD;"
                 class="material-icon form-icon"
                 row="11" />
          <GridLayout columns="*, 100"
                      class="form-single-line"
                      row="11"
                      col="1">
            <Label text="Présence de bulles"
                   class="form-label" />
            <Switch col="1" />
          </GridLayout>
        </GridLayout>
      </card:CardView>
      <card:CardView elevation="10">
        <GridLayout id="noseStepContainer"
                    columns="auto, *"
                    rows="*,*,*,*,*,*,*,*,*">
          <Label text="Arômes"
                 class="form-section"
                 colSpan="2" />
          <Label text="&#xE1D8;"
                 class="material-icon form-icon"
                 row="1"/>
          <Label text="Intensité"
                 class="form-label"
                 col="1"
                 row="1"/>
          <vs:ValuesSelector items="{{ intensities }}"
                             row="2"
                             col="1" />
          <Label text="&#xE80E;"
                 class="material-icon form-icon"
                 row="3" />
          <Button text="Ajouter des arômes"
                  col="1"
                  row="3"
                  tap="selectAromas"
                  class="form-button"/>
          <vs:ValuesSelector items="{{ selectedAromas }}"
                             deleteOnClick="true"
                             col="1"
                             row="4" />
          <Label text="&#xE002;"
                 class="material-icon form-icon"
                 row="5" />
          <Button text="Ajouter des défauts d'arôme"
                  col="1"
                  row="5"
                  tap="selectAromaDefects"
                  class="form-button" />
          <vs:ValuesSelector items="{{ selectedAromaDefects }}"
                             deleteOnClick="true"
                             col="1"
                             row="6" />
          <Label text="&#xE8E5;"
                 class="material-icon form-icon"
                 row="7" />
          <Label text="Développement"
                 class="form-label"
                 col="1"
                 row="7" />
          <vs:ValuesSelector items="{{ developments }}"
                             col="1"
                             row="8" />
        </GridLayout>
      </card:CardView>
      <card:CardView elevation="10">
        <GridLayout columns="auto, *"
                    rows="*,*,*,*,*,*,*,*,*,*,*,*,*,*,*">
          <Label text="Saveurs"
                 class="form-section"
                 colSpan="2" />
          <Label text="&#xE53B;"
                 class="material-icon form-icon"
                 row="1"/>
          <Label text="Attaque"
                 class="form-label"
                 col="1"
                 row="1"/>
          <vs:ValuesSelector items="{{ attacks }}"
                             col="1"
                             row="2"/>
          <Label text="&#xE25A;"
                 class="material-icon form-icon"
                 row="3" />
          <Label text="Acidité"
                 class="form-label"
                 col="1"
                 row="3" />
          <vs:ValuesSelector items="{{ acidities }}"
                             col="1"
                             row="4" />
          <Label text="&#xE258;"
                 class="material-icon form-icon"
                 row="5" />
          <Label text="Tanins"
                 class="form-label"
                 col="1"
                 row="5" />
          <vs:ValuesSelector items="{{ tannins }}"
                             col="1"
                             row="6" />
          <Label text="&#xE80E;"
                 class="material-icon form-icon"
                 row="7" />
          <Button text="Ajouter des saveurs"
                  col="1"
                  row="7"
                  tap="selectFlavors"
                  class="form-button"/>
          <vs:ValuesSelector items="{{ selectedFlavors }}"
                             deleteOnClick="true"
                             col="1"
                             row="8" />
          <Label text="&#xE002;"
                 class="material-icon form-icon"
                 row="9" />
          <Button text="Ajouter des défauts de saveur"
                  col="1"
                  row="9"
                  tap="selectFlavorDefects"
                  class="form-button" />
          <vs:ValuesSelector items="{{ selectedFlavorDefects }}"
                             deleteOnClick="true"
                             col="1"
                             row="10" />
          <Label text="&#xE1D8;"
                 class="material-icon form-icon"
                 row="11" />
          <Label text="Intensité"
                 class="form-label"
                 col="1"
                 row="11" />
          <vs:ValuesSelector items="{{ intensities }}"
                             col="1"
                             row="12" />
          <Label text="&#xE256;"
                 class="material-icon form-icon"
                 row="13" />
          <Label text="Finale"
                 class="form-label"
                 col="1"
                 row="13"/>
          <vs:ValuesSelector items="{{ length }}"
                             col="1"
                             row="14" />
        </GridLayout>
      </card:CardView>
      <card:CardView elevation="10">
        <GridLayout columns="auto, *"
                    rows="*,*,*,*,*,*,*,*,*,*">
          <GridLayout class="form-section-actions"
                      colSpan="2"
                      columns="*, auto">
            <Label text="Informations"/>
            <Button col="1"
                    text="{{ isBlindTasting ? '&#xE8F5;' : '&#xE8F4;' }}"
                    class="material-icon"
                    tap="toggleIsBlindTasting"/>
          </GridLayout>
          <Label text="&#xE8F5;"
                 class="material-icon form-icon"
                 row="1"
                 visibility="{{ isBlindTasting ? 'visible' : 'collapse' }}"/>
          <Label col="1"
                 class="form-label form-single-line"
                 row="1"
                 text="Dégustation à l'aveugle"
                 visibility="{{ isBlindTasting ? 'visible' : 'collapse' }}"/>

          <Label text="&#xE80B;"
                 class="material-icon form-icon"
                 row="1"
                 visibility="{{ !isBlindTasting ? 'visible' : 'collapse' }}"/>
          <TextField col="1"
                     class="form-single-line"
                     hint="Pays, Région, AOC"
                     row="1"
                     visibility="{{ !isBlindTasting ? 'visible' : 'collapse' }}"/>
          <Label text="&#xE7F1;"
                 class="material-icon form-icon"
                 row="2"
                 visibility="{{ !isBlindTasting ? 'visible' : 'collapse' }}"/>
          <TextField row="2"
                     col="1"
                     class="form-single-line"
                     hint="Domaine"
                     visibility="{{ !isBlindTasting ? 'visible' : 'collapse' }}"/>
          <Label text="&#xE435;"
                 class="material-icon form-icon"
                 row="3"
                 visibility="{{ !isBlindTasting ? 'visible' : 'collapse' }}"/>
          <TextField row="3"
                     col="1"
                     class="form-single-line"
                     hint="Nom"
                     visibility="{{ !isBlindTasting ? 'visible' : 'collapse' }}"/>
          <Label text="&#xE838;"
                 class="material-icon form-icon"
                 row="4"
                 visibility="{{ !isBlindTasting ? 'visible' : 'collapse' }}"/>
          <GridLayout columns="*, auto"
                      col="1"
                      row="4"
                      class="form-single-line"
                      visibility="{{ !isBlindTasting ? 'visible' : 'collapse' }}">
            <Label text="Année"
                   class="form-label"/>
            <dd:DropDown col="1"
                         items="{{ years }}"
                         hint="Sélectionner"/>
          </GridLayout>
          <Label text="&#xE152;"
                 class="material-icon form-icon"
                 row="5"
                 visibility="{{ !isBlindTasting ? 'visible' : 'collapse' }}"/>
          <Label text="Alcool"
                 class="form-label"
                 col="1"
                 row="5"
                 visibility="{{ !isBlindTasting ? 'visible' : 'collapse' }}"/>
          <Slider minValue="30"
                  maxValue="180"
                  row="6"
                  col="1"
                  visibility="{{ !isBlindTasting ? 'visible' : 'collapse' }}"/>
          <Label text="&#xE3A9;"
                 class="material-icon form-icon"
                 row="7"
                 visibility="{{ !isBlindTasting ? 'visible' : 'collapse' }}"/>
          <GridLayout columns="*, 100"
                      col="1"
                      row="7"
                      class="form-single-line"
                      visibility="{{ !isBlindTasting ? 'visible' : 'collapse' }}">
            <Label text="Vin Biodynamique"
                   class="form-label" />
            <Switch col="1" />
          </GridLayout>
          <Label text="&#xE886;"
                 class="material-icon form-icon"
                 row="8"
                 visibility="{{ !isBlindTasting ? 'visible' : 'collapse' }}"/>
          <ac:AutoComplete id="grapes"
                           col="1"
                           row="8"
                           items="{{ grapesLabels }}"
                           itemTap="selectGrape"
                           visibility="{{ !isBlindTasting ? 'visible' : 'collapse' }}" />
          <vs:ValuesSelector items="{{ selectedGrapes }}"
                             deleteOnClick="true"
                             col="1"
                             row="9"
                             visibility="{{ !isBlindTasting ? 'visible' : 'collapse' }}"/>
        </GridLayout>
      </card:CardView>
      <card:CardView elevation="10">
        <GridLayout columns="auto, *"
                    rows="*,*,*,*,*,*">
          <Label text="Conclusion"
                 class="form-section"
                 colSpan="2" />
          <StackLayout colSpan="2"
                       row="1"
                       orientation="horizontal"
                       class="final-rating">
            <Label text="sentiment_very_satisfied"
                   class="{{ finalRating == 4 ? 'material-icon final-rating-4 selected': 'material-icon final-rating-4' }}"
                   tap="selectFinalRating"/>
            <Label text="sentiment_satisfied"
                   class="{{ finalRating == 3 ? 'material-icon final-rating-3 selected': 'material-icon final-rating-3' }}"
                   tap="selectFinalRating"/>
            <Label text="sentiment_neutral"
                   class="{{ finalRating == 2 ? 'material-icon final-rating-2 selected': 'material-icon final-rating-2' }}"
                   tap="selectFinalRating"/>
            <Label text="sentiment_dissatisfied"
                   class="{{ finalRating == 1 ? 'material-icon final-rating-1 selected': 'material-icon final-rating-1' }}"
                   tap="selectFinalRating"/>
            <Label text="sentiment_very_dissatisfied"
                   class="{{ finalRating == 0 ? 'material-icon final-rating-0 selected': 'material-icon final-rating-0' }}"
                   tap="selectFinalRating"/>
          </StackLayout>
          <Label text="&#xE540;"
                 class="material-icon form-icon"
                 row="2"/>
          <Label text="Potentiel"
                 class="form-label"
                 col="1"
                 row="2"/>
          <vs:ValuesSelector items="{{ potentials }}"
                             col="1"
                             row="3" />
          <Label text="&#xE56C;"
                 class="material-icon form-icon"
                 row="4" />
          <TextView row="4"
                    col="1"
                    class="form-single-line"
                    hint="Accords Mets &amp; Vins" />
          <Label text="&#xE0B9;"
                 class="material-icon form-icon"
                 row="5" />
          <TextView row="5"
                    col="1"
                    class="form-single-line"
                    hint="Commentaires" />
        </GridLayout>
      </card:CardView>
    </StackLayout>
  </ScrollView>
</Page>